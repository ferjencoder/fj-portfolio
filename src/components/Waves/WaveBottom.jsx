

import { useEffect } from 'react';
import { useSelector, useDispatch } from 'react-redux';
import { nextColorTwo } from '../../store/ui/colorSliceTwo';
import './Waves.css';

export const WaveBottom = () => {
    const dispatch = useDispatch();
    const colorIndex = useSelector( ( state ) => state.colorTwo.colorIndex );
    const colors = useSelector( ( state ) => state.colorTwo.colors );
    const currentColor = colors[ colorIndex ];

    useEffect( () => {
        const interval = setInterval( () => {
            dispatch( nextColorTwo() );
        }, 5000 ); // Change color every 5 seconds

        return () => clearInterval( interval ); // Clean up on unmount
    }, [ dispatch ] );

    useEffect( () => {
        document.querySelectorAll( '.gradientStopBottom' ).forEach( stop => {
            stop.setAttribute( 'stop-color', currentColor );
            stop.style.transition = 'stop-color 5s';
        } );
    }, [ currentColor ] );

    return (
        <svg xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" style={{ margin: 'auto', display: 'block', zIndex: 1, position: 'relative', background: 'none' }} preserveAspectRatio="xMidYMid" viewBox="0 0 1980 400">
            <g transform="translate(990,200) scale(1,-1) translate(-990,-200)"><linearGradient id="lg-0.7421493770562755" x1="0" x2="1" y1="0" y2="0">
                <stop className="gradientStopBottom" offset="0"></stop>
                <stop className="gradientStopBottom" offset="1"></stop>
            </linearGradient>
                <path d="" fill="url(#lg-0.7421493770562755)" opacity="0.4">
                    <animate attributeName="d" dur="10s" repeatCount="indefinite" keyTimes="0;0.333;0.667;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1" begin="0s" values="M0 0L 0 246.55725690223693Q 198 269.26330986165937  396 242.69783384383842T 792 239.14902693667347T 1188 204.2050259452253T 1584 252.95576358614272T 1980 194.87772736186258L 1980 0 Z;M0 0L 0 185.96457678308167Q 198 239.70562361174387  396 189.7322887517072T 792 178.34418703761452T 1188 163.22777694199888T 1584 218.60242273406075T 1980 247.46457923628302L 1980 0 Z;M0 0L 0 230.5961045357186Q 198 185.09855075483534  396 166.93237845125236T 792 168.39833215526312T 1188 180.89519034064415T 1584 170.23984515602015T 1980 241.5207016728283L 1980 0 Z;M0 0L 0 246.55725690223693Q 198 269.26330986165937  396 242.69783384383842T 792 239.14902693667347T 1188 204.2050259452253T 1584 252.95576358614272T 1980 194.87772736186258L 1980 0 Z"></animate>
                </path>
                <path d="" fill="url(#lg-0.7421493770562755)" opacity="0.4">
                    <animate attributeName="d" dur="10s" repeatCount="indefinite" keyTimes="0;0.333;0.667;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1" begin="-2s" values="M0 0L 0 233.0816953788048Q 198 244.43437782779796  396 215.9353972617742T 792 152.0887735169231T 1188 162.76936437705334T 1584 192.82035012557034T 1980 227.0112108616609L 1980 0 Z;M0 0L 0 251.9812018478293Q 198 189.59623740067317  396 160.36469715018833T 792 180.0334926614367T 1188 171.77745862960361T 1584 224.3170472741154T 1980 214.80795114669888L 1980 0 Z;M0 0L 0 240.38781670083776Q 198 268.89469111139385  396 224.92521007075277T 792 201.249215721805T 1188 183.32261674407044T 1584 233.79854855817115T 1980 219.0843851500117L 1980 0 Z;M0 0L 0 233.0816953788048Q 198 244.43437782779796  396 215.9353972617742T 792 152.0887735169231T 1188 162.76936437705334T 1584 192.82035012557034T 1980 227.0112108616609L 1980 0 Z"></animate>
                </path>
                <path d="" fill="url(#lg-0.7421493770562755)" opacity="0.4">
                    <animate attributeName="d" dur="10s" repeatCount="indefinite" keyTimes="0;0.333;0.667;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1" begin="-4s" values="M0 0L 0 162.50131491384863Q 198 260.88465807318966  396 224.3016839043661T 792 194.62587771535192T 1188 209.37438437530534T 1584 168.4727917981849T 1980 151.29923008776697L 1980 0 Z;M0 0L 0 255.37768343565676Q 198 239.23341479368548  396 201.50401028534918T 792 219.4290190838996T 1188 173.99002694320606T 1584 242.81208073720654T 1980 173.91497777711973L 1980 0 Z;M0 0L 0 162.65828310614424Q 198 213.90254798370364  396 170.05188692324523T 792 240.22768750975058T 1188 198.333678807397T 1584 181.03108209531223T 1980 206.4724396467879L 1980 0 Z;M0 0L 0 162.50131491384863Q 198 260.88465807318966  396 224.3016839043661T 792 194.62587771535192T 1188 209.37438437530534T 1584 168.4727917981849T 1980 151.29923008776697L 1980 0 Z"></animate>
                </path>
                <path d="" fill="url(#lg-0.7421493770562755)" opacity="0.4">
                    <animate attributeName="d" dur="10s" repeatCount="indefinite" keyTimes="0;0.333;0.667;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1" begin="-6s" values="M0 0L 0 187.07863799857338Q 198 268.1395019682529  396 238.64901181025147T 792 209.4843021802517T 1188 152.59489415750838T 1584 210.58645541789622T 1980 233.21503188294383L 1980 0 Z;M0 0L 0 250.4791843868632Q 198 191.38731225635905  396 160.50419481058572T 792 188.6706850412576T 1188 223.66962264201294T 1584 198.55338567445062T 1980 191.0204649118413L 1980 0 Z;M0 0L 0 153.39166394434943Q 198 239.48116194957186  396 216.72320760327597T 792 212.07190517572587T 1188 156.19014481680915T 1584 225.39475205044778T 1980 249.81376681106056L 1980 0 Z;M0 0L 0 187.07863799857338Q 198 268.1395019682529  396 238.64901181025147T 792 209.4843021802517T 1188 152.59489415750838T 1584 210.58645541789622T 1980 233.21503188294383L 1980 0 Z"></animate>
                </path>
                <path d="" fill="url(#lg-0.7421493770562755)" opacity="0.4">
                    <animate attributeName="d" dur="10s" repeatCount="indefinite" keyTimes="0;0.333;0.667;1" calcMode="spline" keySplines="0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1" begin="-8s" values="M0 0L 0 202.56922684329018Q 198 205.62424773078834  396 165.64719305253394T 792 156.9784536343818T 1188 214.08340925838746T 1584 185.73740483667427T 1980 165.44966528051887L 1980 0 Z;M0 0L 0 235.5392612942673Q 198 284.0511148774685  396 247.5875261523171T 792 207.86225693275642T 1188 186.80615205942297T 1584 201.31135064531213T 1980 205.34258829021817L 1980 0 Z;M0 0L 0 171.86031962445153Q 198 214.17967868905862  396 167.5447036557412T 792 219.75856622222972T 1188 233.84090625270733T 1584 227.37395275709167T 1980 180.71001819338414L 1980 0 Z;M0 0L 0 202.56922684329018Q 198 205.62424773078834  396 165.64719305253394T 792 156.9784536343818T 1188 214.08340925838746T 1584 185.73740483667427T 1980 165.44966528051887L 1980 0 Z"></animate>
                </path>
            </g>
        </svg>
    )
}
